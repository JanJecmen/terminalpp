name: '@PROJECT_NAME@'
base: core18
version: '@PROJECT_VERSION@'
summary: '@CPACK_PACKAGE_DESCRIPTION_SUMMARY@'
description: '@CPACK_PACKAGE_DESCRIPTION@'
icon: './source/resources/images/logo-small.png'

grade: devel # switch to stable once tested in the store 
confinement: classic

parts:
  tpp:
    source: "./source"
    source-type: local
    plugin: cmake
    configflags: 
      - "-DCMAKE_BUILD_TYPE=@CMAKE_BUILD_TYPE@"
      - "-DCMAKE_INSTALL_PREFIX=/usr"
    build-packages:
      - g++
      - libx11-dev
      - libxft-dev
      - git
    stage-packages:
      - libfontconfig1
      - libfreetype6
      - libpng16-16
      - libx11-6
      - libxau6
      - libxcb1
      - libxdmcp6
      - libxft2
      - libxrender1
      - x11-utils

apps:
  tpp:
      command: usr/bin/tpp
      environment:
          DISABLE_WAYLAND: 1
      
          